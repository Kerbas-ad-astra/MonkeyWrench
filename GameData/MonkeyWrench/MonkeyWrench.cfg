// MonkeyWrench 
// v0.1.3
// Created by WarrenSchultz
// Creative Commons License
//
// 
// MonkeyWrench is designed to allow far more flexibility in mid-mission reconfiguration
// ===============================================================
// New parts via config file adjustments:
// ----------------------------------
//  
// Universal Storage EVA-X Radio add-on for RemoteTech (5km range) and MechJeb 
// Vernier 4-way thrusters, based on B9 RCS block models (Separate part, requires RCSFX, included)
//
//  (All listed mods required for functionality)
//
// ===============================================================
// KAS Grab & Storage support, modifications to existing parts:
// -------------------------------------------
// B9_Aerospace
// DMagic Orbital Science
// Small Hex Cans 
// Interstellar
// Kerbal Attachment System
// + Storage containers now scale with TweakScale size adjustments
// KW
// MechJeb
// + Add 1km RemoteTech antenna
// RealChute
// RemoteTech
// StationScience
// SurfaceLights
// SCANsat
// Squad (Additional stock parts, with storage size & balance adjustments)
// + Power generation to launch clamps
// + KAS Node dock capability for 1x and 3x  truss segments
//
// ------------------------------------------------------------------------------------------------------------------------------
//
// ===============================================================
// MonkeyWrench Custom Parts
// -------------------------------------------------------

// Universal Storage EVA-X Radio add-on for RemoteTech and MechJeb
@PART[US_R200_EVA_EVAX]:FOR[RemoteTech]{
	%MODULE[ModuleRTAntenna] {
		%IsRTActive = False
		%Mode0OmniRange = 0
		%Mode1OmniRange = 5000
		%EnergyCost = 0.001
		
		%TRANSMITTER {
			%PacketInterval = 0.3
			%PacketSize = 1
			%PacketResourceCost = 3.0
		}
	}
	%MODULE[ModuleSPUPassive] {}
}
@PART[US_R200_EVA_EVAX]:FOR[MechJeb2]{
	MODULE{
		name = MechJebCore
	}
}

// Vernier 4-way thrusters, based on B9 RCS block models, requires RCSFX
PART:NEEDS[B9_Aerospace] {
    // --- general parameters ---
    name = MW_Control_Vernier_RCS_Block
    module = Part
    author = WarrenSchultz

    // --- asset parameters ---
    MODEL
    {
        model = B9_Aerospace/Parts/Control_RCS_Blocks/Block_R12
    }
    scale = 1
    rescaleFactor = 1

    // --- node definitions ---
    // definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z
    node_attach = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0

    // --- editor parameters ---
    TechRequired = largeControl
    entryCost = 5000
    cost = 1600
    category = Control
    subcategory = 0
    title = Vernier RCS Thruster Block
    manufacturer = In a shed next door to Tetragon Projects' labs
    description = Based on Tetragon's top-end RCS package, this system is the result of some late nights off the books, and a bit of a lost or won bet, depending on your point of view.

    // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
    attachRules = 0,1,0,0,0

    // --- standard part parameters ---
    mass = 0.32
    dragModelType = default
    maximum_drag = 0.001
    minimum_drag = 0.001
    angularDrag = 2
    crashTolerance = 15
    maxTemp = 3800
	fuelCrossFeed = True
	
//	PhysicsSignificance = 1
    
	MODULE
    {
        name = ModuleRCSFX
        thrusterTransformName = RCSthruster
        thrusterPower = 12
		enablePitch = True
		enableYaw = True
		enableRoll = True
		enableX = True
		enableY = True
		enableZ = True
		useThrottle = False
		correctThrust = True
		fullThrust = False

		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			// DrawGauge = True
			// resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
			// resourceFlowMode = STAGE_PRIORITY_FLOW
		}
        atmosphereCurve
        {
            key = 0 260
            key = 1 140
        }
    }

    MODULE
    {
        name = FStextureSwitch2
        moduleID = 0
        objectNames = Mesh1
        textureRootFolder = B9_Aerospace/Parts/Control_RCS_Blocks/
        textureNames = model000;model001
        textureDisplayNames = Unshielded;Shielded
        nextButtonText = Toggle Heat Shielding
        statusText = Heat Shielding
        switchableInFlight = false
        showPreviousButton = false
    }
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 20
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}


// ===================================================================
// KAS adjustments
// ===================================================================

// -------------------------------------------------------
// B9 Aerospace mod 


// B9 RCS
@PART[B9_Control_RCS_Port_R1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Block_R5]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 15
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Block_R5T]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 15
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Block_R12]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 20
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Block_R12T]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 20
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Port_R1A]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Port_R1T]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Tank_MT1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 80
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Control_RCS_Tank_MT4]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
// B9 Structural
@PART[B9_Structure_L1_Ladder]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 20
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_L2_Ladder]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_L3_Ladder]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 80
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_L4_Ladder]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 160
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_R0_Railing]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_R1_Railing]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 20
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_R2_Railing]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_R4_Railing]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 80
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_P1_Surface]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_P2_Surface]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		storedSize = 160
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_P4_Surface]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Structure_P8_Surface]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
// B9 Utility
@PART[B9_Utility_DockingPort_CDP]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 30
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Utility_InfoDrive]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 3
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
// B9 Lights
@PART[B9_Utility_Light_A1_White]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Utility_Light_A1_Closed]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Utility_Light_A4_White]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Utility_Light_A8_White]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 80
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Utility_Light_N1_White]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 2
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[B9_Utility_Light_N1_Large_White]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 25
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}



// -------------------------------------------------------
// DMagic Orbital Science
@PART[dmSoilMoisture]:HAS[!MODULE[KASModuleGrab]]:FOR[DMagic]:NEEDS[KAS] {
	node_attach = 0.0, 0.6, 0.0, 0.0, 1.0, 0.0, 0
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		stateless = False
		storedSize = 15
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// Hex Cans
@PART[Hex*Small]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 12
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// Interstellar
@PART[Brayton1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[DTMagnetometer]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		stateless = False
		storedSize = 75
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[FNHeliumCryostat]:FOR[KAS] {
	node_attach = 0.0, -0.62, 0.0, 0.0, -1.0, 0.0, 1
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachNodeName = bottom
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
		bayType = MW_GenericNode
		bayNode = bottom
	}
}
@PART[FNIRTelescope]:FOR[KAS] {
	node_attach = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 1
	@attachRules = 1,1,1,1,0
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		stateless = False
		storable = True
		storedSize = 30
		attachOnPart = True
	}
}
@PART[sensorGammaRaySpectrometer]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 60
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[FNAmmoniaTank]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[FNAntimatterBottle]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 50
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[FNLiquidWaterTank]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[FNGCMS]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 50
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[FNLCMS]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 50
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[HexCanDeutTritLarge]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[HexCanHe3Large]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[HexCanLithium]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[HexCanThoriumFl4]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[HexCanUraniumFl6]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[HexCanUraniumN]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		stateless = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[microwaveReceiver]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 150
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[radial_atmospheric_scoop1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 4
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RadialRadiatorzzz]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 75
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RadialRadiatorzzz2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 25
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[radiator0]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 200
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[radiator1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[tinyBrayton]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 100
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// KW Rocketry
@PART[KWSASmodule2mHalf]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 45
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[KWRadBattSmallS]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 8
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[KWRadBattSmallL]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 12
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[KWrcsPod]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 9
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[KWrcsQuad]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[KWrcsQuad45]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[KWsrbUllage]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 8
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// MechJeb AR202 module - adds KAS and short range RT antenna
@PART[mumech_MJ2_AR202]:FOR[KAS]{
	@attachRules = 1,1,1,1,0
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, -0.05, -0.2)
		evaPartDir = (0,0,-1)
		physicJoint = false
		storable = true
		storedSize = 6
		attachOnPart = True
		attachOnEva = True
		attachOnStatic = False
		attachSendMsgOnly = False

	}
}
@PART[mumech_MJ2_AR202]:FOR[RemoteTech]{
	%MODULE[ModuleRTAntenna] {
		%IsRTActive = True
		%Mode0OmniRange = 0
		%Mode1OmniRange = 1000
		%EnergyCost = 0.001
		
		%TRANSMITTER {
			%PacketInterval = 0.3
			%PacketSize = 1
			%PacketResourceCost = 3.0
		}
	}
	%MODULE[ModuleSPUPassive] {}
}


// -------------------------------------------------------
// RealChute
@PART[RC_radial]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 25
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// RemoteTech
@PART[RTShortAntenna1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTLongAntenna2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 25
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTLongAntenna3]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 45
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTShortDish1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 75
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTShortDish2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 100
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTLongDish1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 150
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTLongDish2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 250
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTGigaDish1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 400
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[RTGigaDish2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 600
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// Station Science
@PART[StnSciExperiment*]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// Surface Lights
@PART[W485_Surface*]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 8
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// SCANsat
@PART[SCANsat_Scanner]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[SCANsat_Scanner2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[SCANsat_Scanner24]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[SCANsat_Scanner32]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}

// -------------------------------------------------------
// Squad (Stock) 
// Add power to the launch clamps
@PART[launchClamp1]{
	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = true
		OUTPUT_RESOURCE
		{
		   name = ElectricCharge
		   rate = 5000
		}	
	}
}
// MonkeyWrench radial attachment mod
@PART[stackPoint1]:FOR[KAS] {
	node_stack_bottom = 0.0, -0.08, 0.0, 0.0, 1.0, 0.0
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.35)
		evaPartDir = (0,0,1)
		storable = True
		storedSize = 5
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
		bayType = MW_GenericNode
		bayNode = bottom
	}
	MODULE
	{
		name = KASModulePartBay
		BAY
		{
			attachNode = bottom
			type = MW_GenericNode
		}
		BAY
		{
			attachNode = top
			type = MW_GenericNode
		}
	}
}
// MonkeyWrench node mods
@PART[trussPiece1x]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
		bayType = MW_GenericNode
		bayNode = bottom
	}
	MODULE
	{
		name = KASModulePartBay
		BAY
		{
			attachNode = bottom
			type = MW_GenericNode
		}
		BAY
		{
			attachNode = top
			type = MW_GenericNode
		}
	}
}
@PART[trussPiece3x]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 30
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
		bayType = MW_GenericNode
		bayNode = bottom
	}
	MODULE
	{
		name = KASModulePartBay
		BAY
		{
			attachNode = bottom
			type = MW_GenericNode
		}
		BAY
		{
			attachNode = top
			type = MW_GenericNode
		}
	}
}
// Grab & Storage adjustments only
@PART[dockingPort1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 30
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[dockingPort2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 50
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[dockingPort3]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 25
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[dockingPortLarge]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = False
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[GooExperiment]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 14
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[ksp_r_largeBatteryPack]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 25
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[landingLeg1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 16
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[miniLandingLeg]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize =8
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[parachuteSingle]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[parachuteDrogue]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[probeCoreCube]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 5
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[probeCoreOcto2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 2
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[microEngine]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[radialDecoupler]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 16
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[radialDecoupler1-2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 16
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[radialDecoupler2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 16
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[roverWheel1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 10
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[sepMotor1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 3
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[SmallGearBay]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 6
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[smallHardpoint]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 5
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[structuralIBeam1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 240
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[structuralIBeam2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 80
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[structuralIBeam3]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[structuralPanel1]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 40
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[structuralPanel2]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 160
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[structuralPylon]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 12
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[toroidalFuelTank]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 8
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[vernierEngine]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 6
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
@PART[wheelMed]:FOR[KAS] {
	MODULE
	{
		name = KASModuleGrab
		evaPartPos = (0.0, 0.0, -0.15)
		evaPartDir = (0,0,-1)
		storable = True
		storedSize = 50
		attachOnPart = True
		attachOnEva = False
		attachOnStatic = False
	}
}
// END